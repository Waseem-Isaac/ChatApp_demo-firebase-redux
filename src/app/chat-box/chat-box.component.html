
<div class="container clearfix">
  <div class="row">

      <div class="people-list col-sm-offset-1 col-sm-3" id="people-list">
        <app-chat-sidebar></app-chat-sidebar>
      </div>


  <div class="chat col-sm-7" >
    <div class="chat-header clearfix">
      <img src="https://s3-us-west-2.amazonaws.com/s.cdpn.io/195612/chat_avatar_01_green.jpg" alt="avatar" />
      <div class="chat-about">
        <div class="chat-with">{{user?.email}}</div>
        <div class="chat-num-messages">already {{numOfAllMsgs | async}} messages</div>
      </div>
      <i class="fa fa-star"></i>
    </div> 

    <!-- ==================================================================== -->
    <div class="chat-history" #chatHistory>
      <ul>
        <li *ngFor="let item of items" >
          <ng-container *ngIf="user?.email == item.userEmail" >
            <div class="message-data">
              <span class="message-data-name"><i class="fa fa-circle online"></i>{{item.userEmail}}</span>
              <span class="message-data-time">{{item.msgTimeHour }}:{{item.msgTimeMin}} , {{item.msgDate | date}}</span>
            </div>
            <div class="message my-message">
              {{item.message}}
            </div>
          </ng-container>

          <!--  -->
          <ng-container *ngIf="user?.email !== item.userEmail">
            <div class="message-data align-right">
              <span class="message-data-name"><i class="fa fa-circle online"></i>{{item.userEmail}}</span>
              <span class="message-data-time">{{item.msgTimeHour }}:{{item.msgTimeMin}} , {{item.msgDate | date}}</span>
            </div>
            <div  class="message other-message float-right">
              {{item.message}}
            </div>
          </ng-container>

        </li>

      </ul>
    </div>
    
    <!-- ==========================================  -->
    <div class="chat-message clearfix">
      <textarea  name="message-to-send" id="message-to-send" placeholder ="Type your message" rows="3" #msgInput></textarea>
      
      <button (click)="sendMsg(msgInput)" >Send</button>
    </div> 
  </div>


</div>
</div>